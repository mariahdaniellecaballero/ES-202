{
  "hash": "393035cfb5bf95ccaeced7d3507431d2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"[Assess] Rural Electrification Case Study\"\nsubtitle: \"üìç Edgecombe County, NC\"\ndate: \"February 19, 2025\"\nformat: \n  revealjs:\n    theme:\n      - default\n    css: custom.scss\n    transition: fade\n    slide-number: true\n    incremental: false \n    chalkboard: true\n    center: true\nexecute:\n  freeze: auto\n---\n# Class Overview \n- Centering activity\n- Setting the stage\n- Zoom with Dr. Harrison\n- Paired coding\n- Group Debrief\n\n# Centering Activity\nEmily :-)\n\n# Setting the Stage\n- This week's focus is on coding style and data tidying\n- Using data from the 1934 Rural Electrification Surveys provided by Dr. Conor Harrison\n\n## Zoom with Dr. Harrison\n- Join using [link](https://wellesley.zoom.us/j/94645455904?jst=2) in slides, or in week 04 of schedule. \n- Please mute yourself, so there's no echoing. \n- Feel free to ask questions (unmute then)!\n\n## Learning Outcomes\n- Understand coding style best practices\n- Read accompanying data documentation and understand data summaries\n- New skills in data tidying (i.e., lengthening and widening data)\n- Connect findings to theoretical understandings of restorative justice\n\n# Let's get Started\n- Find your pair\n- Open Posit\n\n## Load Packages\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n# Coding Style Best Practices\n\n## Naming Dataframes {.smaller}\n- Naming conventions are a matter of preference, but readability is key.\n  - R4ds suggests using lowercase letters, numbers, and underscores only. \n  - longer, more informative names are usually beter than short, confusing names.\n\n::: {.cell}\n\n```{.r .cell-code}\n# strive for\nsurvey <- read_excel(\"data/survey_edgecombe.xlsx\", \n  sheet = \"Survey\")\n  \ndictionary <- read_excel(\"data/survey_edgecombe.xlsx\", \n    sheet = \"Dictionary\")\n\n# avoid\nEDGECOMBESRVY1934 <- read_excel(\"data/survey_edgecombe.xlsx\", sheet = \"Survey\")\n\nrm(EDGECOMBESRVY1934)\n```\n:::\n\n\n\n## Spaces\n- Spaces should go on both sides of operators (-, +, >, etc.), except for ^.\n- parentheses do not need spaces around them. \n- use a space after a comma, like English. :-) \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# strive for\nmean(survey$HOGS)\n\n# avoid\nmean (survey$HOGS)\n```\n:::\n\n\n## Pipes\n- Pipes should have a space before them and should be the last part of a line. \n- After a pipe, the next line should be indented two spaces (RStudio will automatically do this for you if you end your line with a pipe).  \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# strive for\nsurvey |>\n  filter(TENURE == \"Tenant\") |>\n  count(WAFFLE_IRON)\n\n# avoid\nsurvey|>filter(TENURE == \"Tenant\")|>count(WAFFLE_IRON)\n```\n:::\n\n\n## ggplot{.smaller}\n- ggplot functions just like pipes (i.e., each new layer should end with a +)\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvey |>\n  filter(RACE != \"Unknown\") |>\n  ggplot(aes(KWH_YEAR, BILL_ANNUAL, color = RACE)) +\n  geom_point() + \n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](09-assess_electrification_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n\n## Exercise One (collaborative)\nRestyle the following code chunks (in the empty chunk below) and label what each line is doing, using \"#\". \n\n::: {.cell}\n\n```{.r .cell-code}\nsurvey|>filter(TENURE%in%c(\"Owner\",\"Tenant\")& RACE %in%c(\"Black\", \"White\"))|>group_by(TENURE,RACE)|>summarize(n=n(),mean_cows =mean(DAIRY_COW), mean_fruit=mean(FRUIT_ACRE))\n\nsurvey|>filter(LINE %in%c(18,20,22,15)&RACE == \"Black\")|>group_by(TENURE)|>summarise(avg_hens=mean(HENS))\n```\n:::\n\n\n\n# Data Documentation\n\n## Reading a Data Dictionary {.smaller}\n- Data dictionaries offer descriptions of your dataframe that otherwise cannot be included in tidy data. \n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(dictionary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 71\nColumns: 3\n$ `Column Name` <chr> \"LINE\", \"USER_NAME\", \"COND_PREMISES_RC\", \"RATE_INTER_RC\"‚Ä¶\n$ Definition    <chr> \"Proposed Line Number\", \"Name of Proposed User (Last, Fi‚Ä¶\n$ Origin        <chr> \"Original Data\", \"Original Data\", \"Created\", \"Created\", ‚Ä¶\n```\n\n\n:::\n:::\n\n\n\n## Data Summaries \n- The `summary` function provides a great opportunity to view and understand important aspects of your data. \n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(survey)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   USER_ID           USER_NUMBER         LINE        USER_NAME        \n Length:329         Min.   : 1.00   Min.   :13.00   Length:329        \n Class :character   1st Qu.: 7.00   1st Qu.:18.00   Class :character  \n Mode  :character   Median :15.00   Median :20.00   Mode  :character  \n                    Mean   :16.26   Mean   :20.29                     \n                    3rd Qu.:23.00   3rd Qu.:23.00                     \n                    Max.   :48.00   Max.   :28.00                     \n                                                                      \n COND_PREMISES_RC RATE_INTER_RC      TENURE              RACE          \n Min.   :1.000    Min.   :1.000   Length:329         Length:329        \n 1st Qu.:3.000    1st Qu.:3.000   Class :character   Class :character  \n Median :3.000    Median :4.000   Mode  :character   Mode  :character  \n Mean   :3.187    Mean   :3.495                                        \n 3rd Qu.:4.000    3rd Qu.:4.000                                        \n Max.   :4.000    Max.   :4.000                                        \n NA's   :35       NA's   :40                                           \n LIGHTS_ONLY           ROOMS            OCCUPANTS            BLDGS          \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n     BARN              GARAGE            POULTRY           MISC_BLDG        \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n  TELEPHONE           REFRIGER          WASH_MACH            RANGE          \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n     IRON            FAM_WATER         STOCK_WATER         MISC_WATER       \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n    MOTORS          MILK_WARMER        HEATING_PAD        WAFFLE_IRON       \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n   TOASTER           PERCOLATOR        CURLING_IRON        EGG_COOKER       \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n  HOT_PLATE         PRESSURE_COOKER    TABLE_STOVE           RADIO          \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n SOLDERING_IRON        VACUUM          SEWING_MACH            FANS          \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n ICE_CREAM_FREEZER     CHURN           HAIR_CLIPPER          CLOCKS         \n Length:329         Length:329         Length:329         Length:329        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n JUICE_EXTRACTOR      DAIRY_COW           HENS             HOGS       \n Length:329         Min.   : 0.000   Min.   :  0.00   Min.   :  0.00  \n Class :character   1st Qu.: 0.000   1st Qu.:  0.00   1st Qu.:  0.00  \n Mode  :character   Median : 0.000   Median : 25.00   Median :  5.00  \n                    Mean   : 1.182   Mean   : 36.52   Mean   : 12.63  \n                    3rd Qu.: 1.000   3rd Qu.: 50.00   3rd Qu.: 15.00  \n                    Max.   :75.000   Max.   :650.00   Max.   :200.00  \n                                                                      \n  COTTON_ACRE      TOBACC_ACRE        TRUCK_ACRE       FRUIT_ACRE    \n Min.   :  0.00   Min.   :  0.000   Min.   : 0.000   Min.   :0.0000  \n 1st Qu.:  0.00   1st Qu.:  0.000   1st Qu.: 0.000   1st Qu.:0.0000  \n Median :  4.00   Median :  5.000   Median : 1.000   Median :0.0000  \n Mean   : 13.15   Mean   :  7.899   Mean   : 1.474   Mean   :0.2576  \n 3rd Qu.: 11.00   3rd Qu.: 10.000   3rd Qu.: 2.000   3rd Qu.:0.0000  \n Max.   :208.00   Max.   :100.000   Max.   :30.000   Max.   :5.0000  \n                                                                     \n  GENERAL_ACRE    COND_PREMISES       RATE_INTER        LIGHT_PLANT       \n Min.   :  0.00   Length:329         Length:329         Length:329        \n 1st Qu.:  0.00   Class :character   Class :character   Class :character  \n Median : 12.00   Mode  :character   Mode  :character   Mode  :character  \n Mean   : 30.53                                                           \n 3rd Qu.: 30.00                                                           \n Max.   :490.00                                                           \n                                                                          \n    RES_LOAD       NONRES_LOAD       BARN_LOAD         POUL_LOAD      \n Min.   :0.1000   Min.   :0.2000   Min.   :0.05000   Min.   :0.05000  \n 1st Qu.:0.2000   1st Qu.:0.3500   1st Qu.:0.05000   1st Qu.:0.05000  \n Median :0.3000   Median :0.3500   Median :0.05000   Median :0.05000  \n Mean   :0.3023   Mean   :0.8068   Mean   :0.05951   Mean   :0.05956  \n 3rd Qu.:0.3500   3rd Qu.:1.0000   3rd Qu.:0.05000   3rd Qu.:0.05000  \n Max.   :2.0000   Max.   :5.0000   Max.   :0.55000   Max.   :0.30000  \n NA's   :51       NA's   :307      NA's   :195       NA's   :261      \n   GARA_LOAD          FAM_LOAD       APPLI_LOAC          TOTAL_LOAD    \n Min.   :0.02500   Min.   :0.0250   Length:329         Min.   : 0.100  \n 1st Qu.:0.02500   1st Qu.:0.0250   Class :character   1st Qu.: 1.111  \n Median :0.02500   Median :0.3460   Mode  :character   Median : 5.611  \n Mean   :0.03016   Mean   :0.4594                      Mean   : 5.354  \n 3rd Qu.:0.02500   3rd Qu.:0.6920                      3rd Qu.: 5.981  \n Max.   :0.25000   Max.   :1.7300                      Max.   :51.660  \n NA's   :232       NA's   :283                         NA's   :67      \n CORRECT_FACTOR     CORRE_LOAD        KWH_MONTH         KWH_YEAR     \n Min.   :0.5760   Min.   : 0.0000   Min.   :  0.00   Min.   :   0.0  \n 1st Qu.:0.7700   1st Qu.: 0.8601   1st Qu.:  9.00   1st Qu.:  96.0  \n Median :0.8550   Median : 4.7590   Median : 53.00   Median : 624.0  \n Mean   :0.8554   Mean   : 5.2450   Mean   : 62.69   Mean   : 737.0  \n 3rd Qu.:0.9500   3rd Qu.: 6.8703   3rd Qu.: 77.02   3rd Qu.: 917.3  \n Max.   :1.0000   Max.   :51.6600   Max.   :734.00   Max.   :8808.0  \n NA's   :30       NA's   :29        NA's   :29       NA's   :23      \n   BILL_MONTH      BILL_ANNUAL        NOTES          \n Min.   : 1.000   Min.   :  0.00   Length:329        \n 1st Qu.: 1.000   1st Qu.: 12.00   Class :character  \n Median : 4.400   Median : 51.84   Mode  :character  \n Mean   : 4.751   Mean   : 55.71                     \n 3rd Qu.: 6.080   3rd Qu.: 72.84                     \n Max.   :50.130   Max.   :601.56                     \n NA's   :30       NA's   :23                         \n```\n\n\n:::\n:::\n\n\n## Reading Data Summaries {.smaller}\n![](images/data_summary.png)\n\n## Exercise Two (collaborative)\nUsing the data dictionary and your `summary()` results of the `survey` dataframe, choose five variables and tell me: \n\n1) the variable name\n2) its definition \n3) its data type\n4) whether there are any NA values (if it's numeric). \n\n# Lengthening and Widening Data {.smaller}\n\n\n## Lengthening Data {.smaller}\n- Suppose we were interested in reshaping a dataframe we created called `animals` into a new dataframe called `animals_long`. We would use the `pivot_longer()` function and supply the following arguments: \n  - `cols` are the columns we want to pivot, in this case, all of the columns between `DAIRY_COW ` and `HOGS`\n  - `names_to` is the new column name that we want the column *names* we selected in the `cols` function to go into. In this case, we will call it `animal`. \n  - `values_to` is the new column name that we want the column *values* to go into. In this case, we will call it \"count\". \n\n\n::: {.cell}\n\n```{.r .cell-code}\nanimals <- survey |>\n  select(USER_NAME, DAIRY_COW:HOGS)\n\nanimals_long <- animals |>\n  pivot_longer(\n    cols = DAIRY_COW:HOGS,\n    names_to = \"animal\",\n    values_to = \"count\"\n  )\n\nanimals_long\n```\n:::\n\n\n## Lengthening Data (cont.) {.smaller}\n![](images/lengthen.png)\n\n## Widening Data {.smaller}\n- Suppose we were interested in reshaping the long dataframe we created called `animals_long` into our original dataframe called `animals`. We would use the `pivot_wider()` function and supply the following arguments: \n  - `names_from` is the column with *values* that we want now be column *names*. In this case, it's the `animal` column. \n  - `values_from` is the column with the *values* that we want to now be distributed across the column names. In this case, it's the `count` column.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanimals <- animals_long |>\n  pivot_wider(\n    names_from = \"animal\",\n    values_from = \"count\"\n  )\n\nanimals\n```\n:::\n\n\n## Widening Data (cont.) {.smaller}\n![](images/widen.png)\n\n## Exercise Three (collaborative){.smaller}\n\nSee Posit assignment!\n\n\n## Exercise Four (individual) {.smaller}\n\nSee Posit assignment!\n\n## Logistics\n- Two pieces on recognitional justice and short documentary for Tuesday\n- Navya leading centering activity :-)",
    "supporting": [
      "09-assess_electrification_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}