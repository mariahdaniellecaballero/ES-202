{
  "hash": "459c959046277be5a081ce751f56c8cb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"[Assess] Solid Waste Landfill Siting\"\nsubtitle: \"üìçHouston, TX\"\ndate: \"September 09, 2025\"\nformat: \n  revealjs:\n    theme:\n      - default\n    css: custom.scss\n    transition: fade\n    slide-number: true\n    incremental: false \n    chalkboard: true\n    center: true\nexecute:\n  freeze: auto\n---\n\n\n# Class Overview \n\n- Centering activity\n- Setting the stage\n- Paired coding\n- Group Debrief\n\n# Centering Activity\n\n# Setting the Stage\n\n## My Approach to Teaching Data Science for Environmental Justice\n- Assumes no background in data science\n- Focuses on the use of data for communicating environmental injustices and working toward more just solutions\n- Intended to connect to theoretical lessons\n\n## General Data Science Process\n- Import Data\n- Tidy it \n- Understand\n  - Transforming Data\n  - Visualize\n  - Model\n- Communicate\n\nFootnote: approach is from [R for Data Science Book](https://r4ds.hadley.nz/intro.html)\n\n## Course Organization\n- Bigger Picture Case Study (HW 02)\n- Skills that build on one another (HW 03-08)\n  - Data Tidying\n  - Data Transforming \n  - Data Visualization\n  - Intro to Spatial Data\n  - Exploring Exposure\n- Apply it! Use weeks 11 - 14 to show me your theoretical and methodological skills\n\n## Homework Approach\n- Assignments will be started in class on Fridays in pairs and submitted the following Monday individually. \n- I'll lecture a bit throughout the class to introduce new skills or topics, then let pairs work through sections of the assignment. \n- I'll choose pairs randomly using my fancy name generator. \n\n# Group Coding\n\n## Let's Get Started\n- Find your pair\n- Open Posit\n\n# Part I: Importing Data\n- Focus on reading in and understanding your data. \n- This assignment is comprised of one dataset: \n  - Robert Bullard's original data\n- Note on how I got this data\n\n## Understanding the IDE\n  - What you see in Posit\n  [insert screenshot]\n\n## Installing packages\n- **Packages** are comprised of functions, data, and additional documentation to load, clean, and analyze your data. \n- Installing a package needs only one line of code: \n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"tidyverse\") # for tidying data\ninstall.packages(\"gt\")\ninstall.packages(\"gtsummary\") # creating tables\ninstall.packages(\"mapview\")   # mapping\n```\n:::\n\n\n- Following an install, you need to load your packages: \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gt)\nlibrary(gtsummary)\nlibrary(mapview)\n```\n:::\n\n\n\n## Loading Data\n- Now we load our data. In Posit Cloud, navigate to xx and select xx [include IDE screenshot]. \n- Sometimes it can be helpful to set your working directory, using `setwd`. \n- Load our first dataset, which includes the 13 landfill and incinerator sites in Bullard's first case study.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetwd(\"~/Google Drive/My Drive/Teaching/ES-202\")\nsites <- read_csv(\"data/week-02/bullard_1979_waste_sites.csv\")\n```\n:::\n\n\n\n# Part II: Today's Goal\n- Understand data\n- Recreate tables 1-3 in Bullard's Study \n- Visualize Distributional Justice\n- Connect it to theoretical understandings of distributional justice\n\n\n# Understanding data \n- the `sites` data that we've loaded is a `dataframe`, meaning it is a rectangular collection of variables (or columns) and observations (rows). In each cell, is a `value`. \n- This dataset is `tabular`, meaning that the data is organized into a table with rows and columns. \n  - `tidy` data has five rules: \n    1. Every `variable` has its own column. \n    2. Every `observation` is stored in its own row. \n    3. Each `value` is stored in the cell of a corresponding variable.\n    4. Values don't contain units (this should be in a codebook).\n    5. No extraneous information (footnotes, extra titles, etc.)\n\n## Sites Data\n\n::: {.cell}\n\n```{.r .cell-code}\nsites\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 13 √ó 8\n   facility neighborhood type  predom_eth_1979 location   lat  long bullard_desc\n   <chr>    <chr>        <chr> <chr>           <chr>    <dbl> <dbl> <chr>       \n 1 Fourth ‚Ä¶ FOURTH WARD  Inci‚Ä¶ Black           Southwe‚Ä¶  29.8 -95.4 gillette an‚Ä¶\n 2 Patters‚Ä¶ WEST END/CO‚Ä¶ Inci‚Ä¶ Black           Northwe‚Ä¶  29.8 -95.4 2500 patter‚Ä¶\n 3 Kelly S‚Ä¶ KASHMERE GA‚Ä¶ Inci‚Ä¶ Black           Northea‚Ä¶  29.8 -95.3 North loop ‚Ä¶\n 4 Holmes ‚Ä¶ SUNNYSIDE    Inci‚Ä¶ Black           Southea‚Ä¶  29.7 -95.4 Bellfort an‚Ä¶\n 5 Velasco  SECOND WARD  Inci‚Ä¶ Hispanic        Southea‚Ä¶  29.8 -95.3 Velasco and‚Ä¶\n 6 Westpark LARCHMONT    Mini‚Ä¶ White           Sothwest  29.7 -95.4 5900 Westpa‚Ä¶\n 7 Kelly S‚Ä¶ KASHMERE GA‚Ä¶ Mini‚Ä¶ Black           Northea‚Ä¶  NA    NA   North Loop ‚Ä¶\n 8 Northwe‚Ä¶ CARVERDALE   Mini‚Ä¶ Black           Northwe‚Ä¶  NA    NA   14300 Somme‚Ä¶\n 9 Fourth ‚Ä¶ FOURTH WARD  Land‚Ä¶ Black           Southwe‚Ä¶  29.8 -95.4 Gillette an‚Ä¶\n10 Sunnysi‚Ä¶ SUNNYSIDE    Land‚Ä¶ Black           Southea‚Ä¶  NA    NA   3500 Bellfo‚Ä¶\n11 Reed Ro‚Ä¶ SUNNYSIDE    Land‚Ä¶ Black           Southea‚Ä¶  NA    NA   2300 Reed r‚Ä¶\n12 Kirkpat‚Ä¶ TRINITY GAR‚Ä¶ Land‚Ä¶ Black           Northea‚Ä¶  NA    NA   Kirkpatrick‚Ä¶\n13 West Do‚Ä¶ ACRES HOMES  Land‚Ä¶ Black           Northwe‚Ä¶  NA    NA   West Donnav‚Ä¶\n```\n\n\n:::\n:::\n\n\n\n# Recreating Tables 1 through 3\n\n## Selecting variables\nTable One: City of Houston Garbage Incinerators\n\n::: {.cell}\n\n```{.r .cell-code}\ntable_one <- sites |>\n              filter(type == \"Incinerator\") |>\n              select(facility, neighborhood, predom_eth_1979, location)\n```\n:::\n\n\n## Formatting Tables \n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2|3|8|11\"}\ntable_one |>\n  gt() |>\n   cols_label(\n    facility = \"Site of Incinerator\", \n    neighborhood = \"Neighborhood\", \n    predom_eth_1979 = \"Ethnicity\", \n    location = \"Location\") |>\n   tab_header(\n    title = (\"Table 1\"),\n    subtitle = \"City of Houston Garbage Incinerators\") |>\n    tab_source_note(\"The above Houston-owned garbage incinerators were in operation between the 1920s' and 1975\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"eedbgahyql\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#eedbgahyql table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#eedbgahyql thead, #eedbgahyql tbody, #eedbgahyql tfoot, #eedbgahyql tr, #eedbgahyql td, #eedbgahyql th {\n  border-style: none;\n}\n\n#eedbgahyql p {\n  margin: 0;\n  padding: 0;\n}\n\n#eedbgahyql .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#eedbgahyql .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#eedbgahyql .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#eedbgahyql .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#eedbgahyql .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#eedbgahyql .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#eedbgahyql .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#eedbgahyql .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#eedbgahyql .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#eedbgahyql .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#eedbgahyql .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#eedbgahyql .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#eedbgahyql .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#eedbgahyql .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#eedbgahyql .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedbgahyql .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#eedbgahyql .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#eedbgahyql .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#eedbgahyql .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedbgahyql .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#eedbgahyql .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedbgahyql .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#eedbgahyql .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedbgahyql .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eedbgahyql .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedbgahyql .gt_left {\n  text-align: left;\n}\n\n#eedbgahyql .gt_center {\n  text-align: center;\n}\n\n#eedbgahyql .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#eedbgahyql .gt_font_normal {\n  font-weight: normal;\n}\n\n#eedbgahyql .gt_font_bold {\n  font-weight: bold;\n}\n\n#eedbgahyql .gt_font_italic {\n  font-style: italic;\n}\n\n#eedbgahyql .gt_super {\n  font-size: 65%;\n}\n\n#eedbgahyql .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#eedbgahyql .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#eedbgahyql .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#eedbgahyql .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#eedbgahyql .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#eedbgahyql .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#eedbgahyql .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#eedbgahyql .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#eedbgahyql div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal\" style>Table 1</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>City of Houston Garbage Incinerators</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"facility\">Site of Incinerator</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"neighborhood\">Neighborhood</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"predom_eth_1979\">Ethnicity</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"location\">Location</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"facility\" class=\"gt_row gt_left\">Fourth Ward</td>\n<td headers=\"neighborhood\" class=\"gt_row gt_left\">FOURTH WARD</td>\n<td headers=\"predom_eth_1979\" class=\"gt_row gt_left\">Black</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Southwest</td></tr>\n    <tr><td headers=\"facility\" class=\"gt_row gt_left\">Patterson Street</td>\n<td headers=\"neighborhood\" class=\"gt_row gt_left\">WEST END/COTTAGE GROVE</td>\n<td headers=\"predom_eth_1979\" class=\"gt_row gt_left\">Black</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Northwest</td></tr>\n    <tr><td headers=\"facility\" class=\"gt_row gt_left\">Kelly Street</td>\n<td headers=\"neighborhood\" class=\"gt_row gt_left\">KASHMERE GARDENS</td>\n<td headers=\"predom_eth_1979\" class=\"gt_row gt_left\">Black</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Northeast</td></tr>\n    <tr><td headers=\"facility\" class=\"gt_row gt_left\">Holmes Road</td>\n<td headers=\"neighborhood\" class=\"gt_row gt_left\">SUNNYSIDE</td>\n<td headers=\"predom_eth_1979\" class=\"gt_row gt_left\">Black</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Southeast</td></tr>\n    <tr><td headers=\"facility\" class=\"gt_row gt_left\">Velasco</td>\n<td headers=\"neighborhood\" class=\"gt_row gt_left\">SECOND WARD</td>\n<td headers=\"predom_eth_1979\" class=\"gt_row gt_left\">Hispanic</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Southeast</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"4\">The above Houston-owned garbage incinerators were in operation between the 1920s' and 1975</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Rinse, Wash, Repeat for Tables 2 and 3\n- Recreate tables 2 and three using the same approaches\n- Pay close attention to the information shared in each table\n\n# Visualizing Distributional Injustice\n- First, let's recreate table 4\n  - Summarizes the type of landfill disposal site by % of black and non-black communities.\n  - Thoughts on process getting from `sites` dataframe to table 4?\n\n## Prepping Data\n- Bullard summarizes by both facility type and ethnicity (black versus non-black). \n  - can use an `if_else` function nested in a `mutate` function.\n    - `mutate` function can add or modify a variable\n    - `if_else` creates a test and defines what to do with variables that meet (or do not) meet the test. \n\n## Creating Summary Table\n- To summarize by two groups, Bullard creates a `crosstabs` table\n- Can be done using the `gtsummary` package\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|3|4|5\"}\nsites |>\n  mutate(predom_eth_1979 = if_else(predom_eth_1979 == \"Black\", \"Black\", \"Nonblack\")) |>\n  tbl_cross(\n    row = type,\n    col = predom_eth_1979,\n    percent = \"row\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"rrcbfmdesu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#rrcbfmdesu table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#rrcbfmdesu thead, #rrcbfmdesu tbody, #rrcbfmdesu tfoot, #rrcbfmdesu tr, #rrcbfmdesu td, #rrcbfmdesu th {\n  border-style: none;\n}\n\n#rrcbfmdesu p {\n  margin: 0;\n  padding: 0;\n}\n\n#rrcbfmdesu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#rrcbfmdesu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#rrcbfmdesu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#rrcbfmdesu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#rrcbfmdesu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#rrcbfmdesu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#rrcbfmdesu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#rrcbfmdesu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#rrcbfmdesu .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#rrcbfmdesu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#rrcbfmdesu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rrcbfmdesu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#rrcbfmdesu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#rrcbfmdesu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#rrcbfmdesu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rrcbfmdesu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#rrcbfmdesu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#rrcbfmdesu .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#rrcbfmdesu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rrcbfmdesu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#rrcbfmdesu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rrcbfmdesu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#rrcbfmdesu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rrcbfmdesu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rrcbfmdesu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rrcbfmdesu .gt_left {\n  text-align: left;\n}\n\n#rrcbfmdesu .gt_center {\n  text-align: center;\n}\n\n#rrcbfmdesu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#rrcbfmdesu .gt_font_normal {\n  font-weight: normal;\n}\n\n#rrcbfmdesu .gt_font_bold {\n  font-weight: bold;\n}\n\n#rrcbfmdesu .gt_font_italic {\n  font-style: italic;\n}\n\n#rrcbfmdesu .gt_super {\n  font-size: 65%;\n}\n\n#rrcbfmdesu .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#rrcbfmdesu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#rrcbfmdesu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#rrcbfmdesu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#rrcbfmdesu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#rrcbfmdesu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#rrcbfmdesu .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#rrcbfmdesu .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#rrcbfmdesu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"label\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"level 1; stat_1\">\n        <div class=\"gt_column_spanner\"><span data-qmd-base64=\"cHJlZG9tX2V0aF8xOTc5\"><span class='gt_from_md'>predom_eth_1979</span></span></div>\n      </th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"stat_0\"><span data-qmd-base64=\"VG90YWw=\"><span class='gt_from_md'>Total</span></span></th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_1\"><span data-qmd-base64=\"QmxhY2s=\"><span class='gt_from_md'>Black</span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_2\"><span data-qmd-base64=\"Tm9uYmxhY2s=\"><span class='gt_from_md'>Nonblack</span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">¬†¬†¬†¬†Incinerator</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">4 (80%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (20%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">5 (100%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">¬†¬†¬†¬†Landfill</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (100%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0 (0%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">5 (100%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">¬†¬†¬†¬†Mini-incinerator</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">2 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (33%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">3 (100%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Total</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (85%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (15%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">13 (100%)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Formatting Table\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|7|8\"}\nsites |>\n  mutate(predom_eth_1979 = if_else(predom_eth_1979 == \"Black\", \"Black\", \"Nonblack\")) |>\n  tbl_cross(\n    row = type,\n    col = predom_eth_1979,\n    percent = \"row\", \n    label = list(type ~ \"Waste Disposal Sites\", predom_eth_1979 ~ \"Ethnicity\")) |>\n  bold_labels()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"gbdnztdcuf\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#gbdnztdcuf table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#gbdnztdcuf thead, #gbdnztdcuf tbody, #gbdnztdcuf tfoot, #gbdnztdcuf tr, #gbdnztdcuf td, #gbdnztdcuf th {\n  border-style: none;\n}\n\n#gbdnztdcuf p {\n  margin: 0;\n  padding: 0;\n}\n\n#gbdnztdcuf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#gbdnztdcuf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#gbdnztdcuf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#gbdnztdcuf .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#gbdnztdcuf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#gbdnztdcuf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#gbdnztdcuf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#gbdnztdcuf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#gbdnztdcuf .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#gbdnztdcuf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#gbdnztdcuf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#gbdnztdcuf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#gbdnztdcuf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#gbdnztdcuf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#gbdnztdcuf .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gbdnztdcuf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#gbdnztdcuf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#gbdnztdcuf .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#gbdnztdcuf .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gbdnztdcuf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#gbdnztdcuf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gbdnztdcuf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#gbdnztdcuf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gbdnztdcuf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gbdnztdcuf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gbdnztdcuf .gt_left {\n  text-align: left;\n}\n\n#gbdnztdcuf .gt_center {\n  text-align: center;\n}\n\n#gbdnztdcuf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#gbdnztdcuf .gt_font_normal {\n  font-weight: normal;\n}\n\n#gbdnztdcuf .gt_font_bold {\n  font-weight: bold;\n}\n\n#gbdnztdcuf .gt_font_italic {\n  font-style: italic;\n}\n\n#gbdnztdcuf .gt_super {\n  font-size: 65%;\n}\n\n#gbdnztdcuf .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#gbdnztdcuf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#gbdnztdcuf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#gbdnztdcuf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#gbdnztdcuf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#gbdnztdcuf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#gbdnztdcuf .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#gbdnztdcuf .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#gbdnztdcuf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"label\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"level 1; stat_1\">\n        <div class=\"gt_column_spanner\"><span data-qmd-base64=\"KipFdGhuaWNpdHkqKg==\"><span class='gt_from_md'><strong>Ethnicity</strong></span></span></div>\n      </th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"stat_0\"><span data-qmd-base64=\"KipUb3RhbCoq\"><span class='gt_from_md'><strong>Total</strong></span></span></th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_1\"><span data-qmd-base64=\"QmxhY2s=\"><span class='gt_from_md'>Black</span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_2\"><span data-qmd-base64=\"Tm9uYmxhY2s=\"><span class='gt_from_md'>Nonblack</span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\" style=\"font-weight: bold;\">Waste Disposal Sites</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">¬†¬†¬†¬†Incinerator</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">4 (80%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (20%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">5 (100%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">¬†¬†¬†¬†Landfill</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (100%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0 (0%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">5 (100%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">¬†¬†¬†¬†Mini-incinerator</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">2 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (33%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">3 (100%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\" style=\"font-weight: bold;\">Total</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (85%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (15%)</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">13 (100%)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n## One more summary table \n- Suppose you lived in a Southwest neighborhood and were interested in the distribution of facility types by Southwest versus non-southwest neighborhoods.\n- Create a cross tabs summary table (make sure it's formatted nicely!) \n\n# Visualizing Bullard's Data\n## Using ggplot2\n- `ggplot2` is a lovely package for visualizing data.\n- It works works using a layer approach. \n- The first layer tells ggplot2 to create a graph base using the `sites` dataframe.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = sites)\n```\n\n::: {.cell-output-display}\n![](04-assess_landfills_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n## Adding Variables\n- Let's visualize ethnicity by facility type, similar to our approach in table 4, except as a bar chart. \n- `mapping` tells ggplot how variables in the data will be mapped to visual aspects (aesthetics) of the plot.\n- `aes` is the function that defines what variables will be mapped to the x and y axes.\n- `x` is the only variable in this case, but we will define it as type. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = sites, mapping = aes( x = type)) \n```\n\n::: {.cell-output-display}\n![](04-assess_landfills_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n## Adding a Visual\n- `geom` specifies how the plot will represent the data. \n  - in ggplot2, this can be functions like `geom_bar`, `geom_point`, or `geom_boxplot`.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = sites, mapping = aes( x = type)) + \ngeom_bar()\n```\n\n::: {.cell-output-display}\n![](04-assess_landfills_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n## Formatting colors and labels\n- adding `fill` to the ggplot specifies that we want the chart colors to reflect the frequencies of each ethnicity across each disposal site type. \n- `scale_fill_manual()` allows you to change the fill colors in your data. \n  - `values` can be color names, hex codes, or RGB values. \n  - `name` is the legend name\n- `labs()` allows you to rename your axes\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1|3|4|5\"}\nggplot(sites, aes(x = type, fill = predom_eth_1979)) +\n  geom_bar() +\n  scale_fill_manual(\n    values = c(\"Red\", \"Yellow\", \"Blue\"), \n    name = \"Predominant Community Ethnicity\") + \n  labs(x = \" \", y = \"Number of Facilities\")\n```\n\n::: {.cell-output-display}\n![](04-assess_landfills_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\n## Connect to Theory",
    "supporting": [
      "04-assess_landfills_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}