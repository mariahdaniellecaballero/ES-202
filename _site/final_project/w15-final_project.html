<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-12-09">

<title>Final Project â€“ ES-202 Course Website</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-79da42d4e9332a072a08d0ee5d72051a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Final Project</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://github.com/mariahdaniellecaballero/ES-202" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
    <a href="https://rstudio.cloud/spaces/237799" title="RStudio Cloud" class="quarto-navigation-tool px-1" aria-label="RStudio Cloud"><i class="bi bi-cloud-fill"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../centering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Centering Activity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://docs.google.com/document/d/1-NDZl_DhfwxHM4T2AhiVBVR7m3s6qMOtvYcFUz1r_ps/edit?usp=sharing" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Find a Typo?</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#report-outline" id="toc-report-outline" class="nav-link" data-scroll-target="#report-outline">Report Outline</a>
  <ul class="collapse">
  <li><a href="#section-one-introduction" id="toc-section-one-introduction" class="nav-link" data-scroll-target="#section-one-introduction">Section One: Introduction</a>
  <ul class="collapse">
  <li><a href="#case-study-background" id="toc-case-study-background" class="nav-link" data-scroll-target="#case-study-background">Case Study Background</a></li>
  <li><a href="#theoretical-connections" id="toc-theoretical-connections" class="nav-link" data-scroll-target="#theoretical-connections">Theoretical Connections</a></li>
  </ul></li>
  <li><a href="#section-two-data-analysis" id="toc-section-two-data-analysis" class="nav-link" data-scroll-target="#section-two-data-analysis">Section Two: Data Analysis</a>
  <ul class="collapse">
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  </ul></li>
  <li><a href="#section-three-proposed-intervention" id="toc-section-three-proposed-intervention" class="nav-link" data-scroll-target="#section-three-proposed-intervention">Section Three: Proposed Intervention</a>
  <ul class="collapse">
  <li><a href="#description" id="toc-description" class="nav-link" data-scroll-target="#description">Description</a></li>
  <li><a href="#logic-model" id="toc-logic-model" class="nav-link" data-scroll-target="#logic-model">Logic Model</a></li>
  </ul></li>
  <li><a href="#section-four-team-contribution-statements" id="toc-section-four-team-contribution-statements" class="nav-link" data-scroll-target="#section-four-team-contribution-statements">Section Four: Team Contribution Statements</a></li>
  </ul></li>
  <li><a href="#formatting-instructions" id="toc-formatting-instructions" class="nav-link" data-scroll-target="#formatting-instructions">Formatting Instructions</a>
  <ul class="collapse">
  <li><a href="#document-details" id="toc-document-details" class="nav-link" data-scroll-target="#document-details">Document Details</a></li>
  <li><a href="#visuals" id="toc-visuals" class="nav-link" data-scroll-target="#visuals">Visuals</a></li>
  <li><a href="#citations" id="toc-citations" class="nav-link" data-scroll-target="#citations">Citations</a></li>
  </ul></li>
  <li><a href="#rubric" id="toc-rubric" class="nav-link" data-scroll-target="#rubric">Rubric</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Project</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Final Project</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 9, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level1">
<h1>Overview</h1>
<p>The final project is a cumulation of the theory and methods skills your team has acquired througout the semester to identify and assess environmental injustice, apply theory, and propose an intervention.</p>
<p><strong>There are three files due at 11:59 PM on Tuesday, December 09, 2025:</strong></p>
<ol type="1">
<li>Written report (~2,000 words) comprising four sections.</li>
<li>Accompanying R code analysis document for data visualizations.</li>
<li>PDF of presentation for 7-minute presentation on final day of class.</li>
</ol>
<p><strong>Additionally, please be prepared to present your teamâ€™s final project in class on Tuesday, December 09, 2025.</strong></p>
</section>
<section id="report-outline" class="level1">
<h1>Report Outline</h1>
<section id="section-one-introduction" class="level2">
<h2 class="anchored" data-anchor-id="section-one-introduction">Section One: Introduction</h2>
<p>This section provides important context to the reader about your community case study, the EJ challenge it is currently facing, and its theoretical applications to the 5 tenets of environmental justice.</p>
<section id="case-study-background" class="level3">
<h3 class="anchored" data-anchor-id="case-study-background">Case Study Background</h3>
<p>This sub-section provides foundational context related to your community case study. It provides the reader with important details related to how environmental injustice has been shaped throughout time and space. Therefore, you might include some combination of the following:</p>
<ul>
<li>The historical context of your community (i.e., important connections to land, immigration patterns, economic development, or inequitable policies that have shaped injustice).</li>
<li>Demographic information of your community (i.e., racial/ethnic makeup, education, and economic patterns).</li>
<li>Multi-scalar patterns related to your community (i.e., state or federal policies, global impacts of climate change) This section should be ~500 words and cite at least 7 sources.</li>
</ul>
</section>
<section id="theoretical-connections" class="level3">
<h3 class="anchored" data-anchor-id="theoretical-connections">Theoretical Connections</h3>
<p>This sub-section is focused on the theoretical applications to your community case study. In this section you should:</p>
<ul>
<li>Describe the EJ injustice your community is facing</li>
<li>Define at least two theoretical EJ tenets and describe how they apply to your communityâ€™s EJ injustice</li>
</ul>
<p>This section should be ~300 words and should cite at least 3 sources (do feel free to cite course readings).</p>
</section>
</section>
<section id="section-two-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="section-two-data-analysis">Section Two: Data Analysis</h2>
<p>This section provides empirical support for your community case study and its EJ challenge, using open-source data and replicable data analysis.</p>
<section id="methodology" class="level3">
<h3 class="anchored" data-anchor-id="methodology">Methodology</h3>
<p>In this sub-section, describe the data sources your team used in your analysis and any methods used to tidy, transform, and visualize the data including:</p>
<ul>
<li>The organization the dataset originated from</li>
<li>The year(s) that the dataset represents</li>
<li>The geographic scale that the dataset represents</li>
<li>Any tidying or data transformations conducted</li>
<li>Visualization approach</li>
</ul>
<p>This sub-section should be ~250 words and should cite both your open-source datasets, and the programming language used.</p>
</section>
<section id="results" class="level3">
<h3 class="anchored" data-anchor-id="results">Results</h3>
<p>This sub-section details the results from your data analysis. It should include:</p>
<ul>
<li>Narrative description of your results</li>
<li>The three visuals you created, labeled and referenced in your narrative description</li>
</ul>
<p>This sub-section should be ~250 words.</p>
</section>
</section>
<section id="section-three-proposed-intervention" class="level2">
<h2 class="anchored" data-anchor-id="section-three-proposed-intervention">Section Three: Proposed Intervention</h2>
<p>This section details your proposed intervention and accompanying logic model.</p>
<section id="description" class="level3">
<h3 class="anchored" data-anchor-id="description">Description</h3>
<p>This sub-section details your proposed intervention, including potential community organization partnerships, inputs, activities, and intended outcomes. In other words, if your team lived in this community, what outcomes would you like to see, and what steps will you need to take to realize sustainable, equitable change? Feel free to learn from other community organizing, research, and policy organizations to inspire your intervention. This section should be ~500 words.</p>
</section>
<section id="logic-model" class="level3">
<h3 class="anchored" data-anchor-id="logic-model">Logic Model</h3>
<p>This sub-section should include a graphical representation of your proposed intervention in the form of a basic logic model. It should include the main components of a logic model such as proposed inputs, activities, outputs, outcomes, and impact.</p>
<p>Note that you can create this in whichever software you prefer, including Microsoft Powerpoint, Canva, or Goodnotes.</p>
</section>
</section>
<section id="section-four-team-contribution-statements" class="level2">
<h2 class="anchored" data-anchor-id="section-four-team-contribution-statements">Section Four: Team Contribution Statements</h2>
<p>Lastly, this section should include team contribution statements from each team member on the components that each person contributed including:</p>
<ul>
<li>Drafting the report</li>
<li>Editing the report</li>
<li>Creating the logic model</li>
<li>Analyzing the data</li>
<li>Visualizing the data</li>
<li>Reference support</li>
<li>Formatting and citations</li>
<li>Any other forms of support</li>
</ul>
<p>This section should be ~200 words.</p>
</section>
</section>
<section id="formatting-instructions" class="level1">
<h1>Formatting Instructions</h1>
<section id="document-details" class="level2">
<h2 class="anchored" data-anchor-id="document-details">Document Details</h2>
<p>Please format the report using the report outline (i.e., four sections and accompanying sub-sections). The report should be single-spaced with 1-inch margins and use 12-pt sans-serif font. Feel free to download the <a href="">report template</a> to get started!</p>
</section>
<section id="visuals" class="level2">
<h2 class="anchored" data-anchor-id="visuals">Visuals</h2>
<p>Ensure the visuals are a balance of both aesthetics and content. This should include things like:</p>
<ul>
<li>A <a href="https://www.datawrapper.de/blog/fonts-for-data-visualization">legible font</a></li>
<li>A consistent and accessible <a href="https://projects.susielu.com/viz-palette">color palette</a></li>
<li>clear axes labels and effective figure captions</li>
</ul>
</section>
<section id="citations" class="level2">
<h2 class="anchored" data-anchor-id="citations">Citations</h2>
<p>Cite your sources using APA (7th edition) style citations. Be sure to include credible supporting evidence, such as information from peer-reviewed literature, books, local journalism, or primary sources. If you need support identifying supporting literature, please donâ€™t hesitate to reach out to me, or <a href="https://wellesley.libcal.com/appointments">make an appointment with LTS</a>!</p>
</section>
</section>
<section id="rubric" class="level1">
<h1>Rubric</h1>
<p>The final project is worth 50 points, and 10% of your grade.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 20%">
<col style="width: 33%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Theme</th>
<th style="text-align: left;">Component</th>
<th style="text-align: left;">1 - Needs work</th>
<th style="text-align: left;">3- Okay</th>
<th style="text-align: left;">5- Excellent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Report</td>
<td style="text-align: left;">Case Study Background</td>
<td style="text-align: left;">The sub-section is unclear or does not include reputable citations</td>
<td style="text-align: left;">Most components are met, but historic and temporal details are unclear, citations are few or not reputable, or the sub-section does not provide a strong background context for the reader.</td>
<td style="text-align: left;">Provides important historic and temporal details, cites at least 7 reputable sources, and shares relevant current details, such as socioeconomic patterns to provide the reader with important background context.</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Theoretical Applications</td>
<td style="text-align: left;">The sub-section does not define and apply two EJ tenets.</td>
<td style="text-align: left;">Most components are met, but the theoretical applications are not compelling or clear.</td>
<td style="text-align: left;">The EJ injustice identified is clearly stated, and the theoretical definitions and applications of the 2+ tenets apply.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Methodology</td>
<td style="text-align: left;">The sub-section does not provide detailed methods or data source information.</td>
<td style="text-align: left;">Most components are met, but the data sources or methods section are not clear.</td>
<td style="text-align: left;">Data sources and methods are clearly defined and well-documented.</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Data Visuals</td>
<td style="text-align: left;">Data visuals do not provide empirical evidence for your community case study.</td>
<td style="text-align: left;">Most data visuals provide empirical evidence for case study, but some are not clear (i.e., poor formatting, poor graph chosen).</td>
<td style="text-align: left;">All three visuals offer empirical evidence for the case study and are accessible to an interdisciplinary audience.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Proposed Intervention</td>
<td style="text-align: left;">Proposed intervention does not provide detauls necessary for meaningful change.</td>
<td style="text-align: left;">Proposed intervention identifies most all components necessary for meaningful change.</td>
<td style="text-align: left;">Proposed intervention identifies potential partner organizations, resources, activities, and intended outcomes.</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Logic Model</td>
<td style="text-align: left;">Logic model is not complete, is disorganized, or does not represent the proposed intervention.</td>
<td style="text-align: left;">Logic model is mostly complete and is a good representation of the proposed intervention.</td>
<td style="text-align: left;">Logic model is complete, concise, and an accurate representation of the proposed intervention.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Group Process (self-graded)</td>
<td style="text-align: left;">The group did not adhere to its expectations and struggled to communicate and work well together.</td>
<td style="text-align: left;">The group mostly stayed true to its expectations, but there were some challenges along the way.</td>
<td style="text-align: left;">The group adhered to its group expectations and realized its goals</td>
</tr>
<tr class="even">
<td style="text-align: left;">Replicability</td>
<td style="text-align: left;">Analysis Document</td>
<td style="text-align: left;">Analysis document could not be replicated.</td>
<td style="text-align: left;">Analysis document was mostly replicable and well-documented.</td>
<td style="text-align: left;">Analysis document is well-formatted and could be followed and replicated by an introductory R user.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Formatting</td>
<td style="text-align: left;">Report Formatting + Citations</td>
<td style="text-align: left;">Report does not align with formatting expectations outlined in the report outline.</td>
<td style="text-align: left;">Report mostly aligns with formatting expectations outlined in the report outline.</td>
<td style="text-align: left;">Report aligns with formatting expectations outlined in the report outline.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Presentation</td>
<td style="text-align: left;">Final Presentation</td>
<td style="text-align: left;">Presentation was longer than 10 minutes, did not include all team members, or did not represent your project well.</td>
<td style="text-align: left;">Presentation represented your teamâ€™s work well, but went over time or did not include all team members.</td>
<td style="text-align: left;">Presentation was compelling, concise (i.e., stayed within 7-minute limit), and included all of your group members.</td>
</tr>
</tbody>
</table>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>